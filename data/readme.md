# Notice

This folder contains five main folders: CurveFaultA, CureveVelA, FlatFaultA, Marmousi2_Slice10970 and temporary_storage.

The first three files store the data of the OpenFWI dataset respectively (data download: https://smileunc.github.io/projects/openfwi/datasets).
CurveVelA stores 60 .npy files, and CurveFaultA and FlatFaultA both store 108 .npy files.
Each .npy file stores 500 velocity models.

Marmousi2_Slice10970 is a dataset consisting of slices of Marmousi II data.
You can download Marmousi II from this: https://s3.amazonaws.com/open.source.geoscience/open_data/elastic-marmousi/elastic-marmousi-model.tar.gz
After downloading, unzip the .tar.gz file elastic-marmousi-model/model/MODEL_P-WAVE_VELOCITY_1.25m.segy.tar.gz to the current "./data" directory.
This is a .segy file, you can find a way to convert it to a .bin file by consulting the internet.
Then, we can slice this data (Marmousi II) according to the instructions of slice4marmousi2.py.
Marmousi2_Slice10970 stores 28 .npy files, the first 27 files store 400 velocity models each, and the last one stores 170.

All the above files need to be stored according to the name vmodel1~vmodelX.
The official OpenFWI data is not named in this way after downloading.
Users need to rename them in the original order.
Moreover, after the velocity model (vmodelX.npy) is prepared, seismic records (seismicX.npy), velocity model contours (cvmodelX.npy) and low-resolution reconstructed velocity models (lvmodelX.npy) need to be generated by the user.

---

**1.Seismic records are the basis for any network training.**  
It will be forward generated through "forward2openfwi.py" in the root directory (Note! This process is very time-consuming).

**2.Velocity model contours are the basis for DDNet70 and DenseInvNet training.**  
It will be generated by "create_contour_vmodel.py" in the current directory.

**3.The low-resolution reconstruction velocity model is key to DenseInvNet training.**  
It requires users to generate it through their own trained LInvNet network or the network we have provided in the models folder.  
Specifically, the user is required to select the command in the test file: "-n {} -net LInvNet -bv -nep .\models\{}Model\LInvNet_100of100.pkl".  
Meanwhile, the user needs to set multi_or_single to 0 and execute the function temp_tester.save_lowres_inversion_results().  
In this way, the low-resolution velocity model output by LInvNet will be automatically saved in the corresponding dataset in the data folder.  

Complete folder example:  
|data  
|===CurveFaultA  
|=====cvmodel1.npy  
|=====cvmodel2.npy  
|=====...  
|=====cvmodel108.npy  
|=====lvmodel1.npy  
|=====lvmodel2.npy  
|=====...  
|=====lvmodel108.npy  
|=====seismic1.npy  
|=====seismic2.npy  
|=====...  
|=====seismic108.npy  
|=====vmodel1.npy  
|=====vmodel2.npy  
|=====...  
|=====vmodel108.npy  
|===CurveVelA  
|===FlatFaultA  
|===Marmousi2_Slice10970  
|===temporary_storage  
|===create_contour_vmodel.py  
|===create_dir_txt.py  
|===forward2openfwi.py  
|===MODEL_P-WAVE_VELOCITY_1.25m.bin (or maybe .segy)  
|===readme.md  
|===slice4marmousi2.py  


---

Finally, the configuration folder records the arrangement of the training and test sets.
"_base" represents the configuration files of InversionNet, VelocityGAN and SeisDeepNET70.
"_cont" represents the configuration file of DDNet70.
"_lres" represents the configuration files of LInvNet and DenseInvNet.

---

When all the data is ready, the size of the data folder may reach 280G, so please pay attention to the hard disk space allocation.





